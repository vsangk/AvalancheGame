{"version":3,"sources":["webpack:///webpack/bootstrap 783b61a80b713ae2c175","webpack:///./lib/avalanche.js","webpack:///./lib/icicle.js","webpack:///./lib/player.js"],"names":["document","addEventListener","canvas","getElementById","overlay","getElementsByClassName","ctx","getContext","globalId","player","icicles","tick","level","isPaused","gameOver","gameSession","bgMusic","Audio","loop","volume","sliding","window","e","keyCode","pauseScreen","toggleMute","key","pause","srcY","muted","newGame","startinglevel","startScreen","order","delay","spans","getElementsByTagName","forEach","idx","style","animationDelay","className","i","length","animationFillMode","settingsScreen","settingLevel","innerHTML","parseInt","handleGameOver","gameOverScreen","hitPlayer","kill","update","cancelAnimationFrame","play","clearRect","width","height","font","fillStyle","fillText","draw","create","handleFalling","animate","requestAnimationFrame","Icicles","img","Image","src","icicleBreak","srcX","destX","destY","push","falling","icicle","drawImage","fallInterval","Math","floor","setFalling","random","hit","icicleHeight","icicleTip","playerLeft","playerRight","destWidth","playerHeight","heightOffset","widthOffset","Player","srcWidth","srcHeight","destHeight","speed"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 783b61a80b713ae2c175","import Icicles from './icicle';\nimport Player from './player';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const canvas = document.getElementById('canvas');\n  const overlay = document.getElementsByClassName('overlay')[0];\n  const ctx = canvas.getContext('2d');\n\n  let globalId;\n  let player, icicles, tick, level;\n  let isPaused, gameOver, gameSession = false;\n\n  let bgMusic = new Audio('./assets/bg-music.wav');\n  bgMusic.loop = true;\n  bgMusic.volume = 0.4;\n  let sliding = new Audio('./assets/sliding.wav');\n  sliding.volume = 0.3;\n  sliding.loop = true;\n\n  window.addEventListener('keydown', e => {\n    if (e.keyCode === 13 && gameSession && !gameOver) {\n      pauseScreen();\n    }\n\n    if (e.keyCode === 77) {\n      toggleMute();\n    }\n\n    ctx.key = e.keyCode;\n  });\n\n  window.addEventListener('keyup', e => {\n    sliding.pause();\n    player.srcY = 0;\n    ctx.key = false;\n  });\n\n  const toggleMute = () => {\n    if (bgMusic.muted === true) {\n      bgMusic.muted = false;\n      sliding.muted = false;\n    } else {\n      bgMusic.muted = true;\n      sliding.muted = true;\n    }\n  };\n\n  const newGame = (startinglevel = 1) => {\n    player = new Player();\n    icicles = new Icicles();\n    tick = 0;\n    level = startinglevel;\n  };\n\n  const startScreen = () => {\n    isPaused = true;\n    let order = [0,2,1,3];\n    let delay = 1.5;\n\n    let spans = document.getElementsByTagName('SPAN');\n\n    order.forEach( idx => {\n      spans[idx].style.animationDelay = `${delay}s`;\n      spans[idx].className = 'header-drop';\n      delay += 0.5;\n    });\n\n    document.getElementsByTagName('H2')[0].addEventListener('click', () => {\n      isPaused = false;\n      gameSession = true;\n      document.getElementById('start-screen').className = \"hidden\";\n      for (var i = 0; i < spans.length; i++) {\n        spans[i].style.animationFillMode = 'none';\n      }\n    });\n\n    document.getElementsByTagName('H2')[1].addEventListener('click', () => {\n      overlay.className = \"overlay dark-tint\";\n      document.getElementById('how-to-play').className = \"overlay\";\n    });\n\n    document.getElementById('how-to-play-exit').addEventListener('click', () => {\n      overlay.className = \"\";\n      document.getElementById('how-to-play').className = 'hidden';\n    });\n  };\n\n  const pauseScreen = () => {\n    let settingsScreen = document.getElementById('settings-screen');\n    let settingLevel = document.getElementById('settings-level');\n    settingLevel.innerHTML = 1;\n\n    if (isPaused && !gameOver) {\n      isPaused = false;\n      overlay.className = \"\";\n      settingsScreen.className = 'hidden';\n    } else {\n      isPaused = true;\n      overlay.className = \"overlay dark-tint\";\n      settingsScreen.className = \"overlay\";\n\n      document.getElementsByTagName('H4')[0].addEventListener('click', () => {\n        isPaused = false;\n        overlay.className = \"\";\n        settingsScreen.className = \"hidden\";\n        newGame(parseInt(settingLevel.innerHTML));\n      });\n\n      document.getElementById('level-increase').addEventListener('click', () => {\n        if (parseInt(settingLevel.innerHTML) < 8) {\n          settingLevel.innerHTML = parseInt(settingLevel.innerHTML) + 1;\n        }\n      });\n\n      document.getElementById('level-decrease').addEventListener('click', () => {\n        if (parseInt(settingLevel.innerHTML) > 1) {\n          settingLevel.innerHTML = parseInt(settingLevel.innerHTML) - 1;\n        }\n      });\n\n      document.getElementById('settings-exit').addEventListener('click', () => {\n        isPaused = false;\n        overlay.className = \"\";\n        settingsScreen.className = \"hidden\";\n      });\n    }\n  };\n\n  const handleGameOver = () => {\n    const gameOverScreen = document.getElementById('game-over-screen');\n\n    if (icicles.hitPlayer(player)) {\n      player.kill(ctx);\n      isPaused = true;\n      gameOver = true;\n      overlay.className = \"overlay dark-tint\";\n      gameOverScreen.className = \"overlay\";\n\n      gameOverScreen.addEventListener('click', () => {\n        isPaused = false;\n        gameOver = false;\n        overlay.className = \"\";\n        gameOverScreen.className = \"hidden\";\n\n        newGame();\n      });\n    }\n  };\n\n  const update = () => {\n    if (isPaused) {\n      cancelAnimationFrame(globalId);\n      bgMusic.pause();\n    } else {\n      bgMusic.play();\n      tick += 1;\n      if (tick % (50 * 10) === 0) {\n        level += 1;\n      }\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n      ctx.font = '30px Allerta Stencil';\n      ctx.fillStyle = 'white';\n      ctx.fillText(`Score: ${tick}`, 600, 120);\n      ctx.fillText(`Level: ${level}`, 600, 150);\n\n      player.draw(ctx);\n      if (ctx.key && ctx.key === 37 || ctx.key === 65) {\n        sliding.play();\n        player.srcY = 240;\n        player.update(-4);\n      }\n      if (ctx.key && ctx.key === 39 || ctx.key === 68) {\n        sliding.play();\n        player.srcY = 288;\n        player.update(4);\n      }\n\n      icicles.create();\n      icicles.draw(ctx);\n      icicles.update(level);\n      icicles.kill();\n      icicles.handleFalling(level, tick);\n\n      handleGameOver();\n    }\n  };\n\n  const animate = () => {\n    update();\n    globalId = requestAnimationFrame(animate);\n  };\n\n  newGame();\n  startScreen();\n  animate();\n});\n\n\n\n// WEBPACK FOOTER //\n// ./lib/avalanche.js","class Icicles {\n  constructor() {\n    this.img = new Image();\n    this.img.src = './assets/icicle.png';\n    this.icicleBreak = new Audio('./assets/icicle_break.wav');\n    this.icicleBreak.volume = 0;\n\n    this.srcX = 14;\n    this.srcY = 0;\n    this.destX = 0;\n    this.destY = 0;\n    this.width = 36;\n    this.height = 64;\n    this.icicles = [];\n  }\n\n  create() {\n    if (this.destX < (800 - 36)) {\n      this.icicles.push({\n        srcX: this.srcX,\n        srcY: this.srcY,\n        destX: this.destX,\n        destY: this.destY,\n        width: 40,\n        height: 64,\n        falling: false,\n      });\n    }\n    this.destX += 40;\n  }\n\n  draw(ctx) {\n    this.icicles.forEach( (icicle, idx) => {\n      ctx.drawImage(\n        this.img,\n        icicle.srcX, icicle.srcY, icicle.width, icicle.height,\n        icicle.destX, icicle.destY, icicle.width, icicle.height\n      );\n    });\n  }\n\n  update(level) {\n    this.icicles.forEach( (icicle, idx) => {\n      if (icicle.falling) {\n        icicle.destY += 5 * (0.2 * level + 1);\n      }\n    });\n  }\n\n  kill() {\n    this.icicles.forEach( (icicle, idx) => {\n      if (icicle.destY === 540) {\n        this.icicleBreak.play();\n      }\n\n      if (icicle.destY >= 550) {\n        this.srcY = 192;\n        icicle.falling = false;\n        icicle.destY = 0;\n      }\n    });\n  }\n\n  setFalling(idx) {\n    if (this.icicles.length === 20) {\n      this.icicles[idx].falling = true;\n    }\n  }\n\n  handleFalling(level, tick) {\n    let fallInterval = Math.floor(30 / (level * 2));\n\n    if (tick % fallInterval === 0) {\n      this.setFalling(Math.floor(Math.random() * 20));\n    }\n  }\n\n  hitPlayer(player) {\n    let hit = false;\n    for (let i = 0; i < this.icicles.length; i++) {\n      if (this.icicles[i].falling === true) {\n        let icicleHeight = this.icicles[i].destY + this.icicles[i].height;\n        let icicleTip = this.icicles[i].destX + (this.icicles[i].width / 2);\n        let playerLeft = player.destX;\n        let playerRight = player.destX + player.destWidth;\n        let playerHeight = player.destY;\n        let heightOffset = 56;\n        let widthOffset = 18;\n\n        if (\n          (icicleTip > playerLeft + widthOffset &&\n            icicleTip < playerRight - widthOffset) &&\n            icicleHeight >= (playerHeight + heightOffset)\n          ) { return true; }\n      }\n    }\n  }\n}\n\nexport default Icicles;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/icicle.js","class Player {\n  constructor() {\n    this.img = new Image();\n    this.img.src = './assets/penguin.png';\n\n    this.srcX = 48;\n    this.srcY = 0;\n    this.destX = 40;\n    this.destY = 600 - 96;\n    this.srcWidth = 48;\n    this.srcHeight = 48;\n    this.destWidth = 48 * 2;\n    this.destHeight = 48 * 2;\n  }\n\n  create() {\n  }\n\n  draw(ctx) {\n    ctx.drawImage(\n      this.img,\n      this.srcX, this.srcY, this.srcWidth, this.srcHeight,\n      this.destX, this.destY, this.destWidth, this.destHeight\n    );\n  }\n\n  update(speed) {\n    if (speed < 0) {\n      if (this.destX > 0) {\n        this.destX += speed;\n      }\n    } else {\n      if (this.destX < 800 - this.destWidth) {\n        this.destX += speed;\n      }\n    }\n  }\n\n  kill(ctx) {\n    this.srcY = 336;\n  }\n}\n\nexport default Player;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/player.js"],"sourceRoot":""}