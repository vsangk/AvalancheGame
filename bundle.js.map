{"version":3,"sources":["webpack:///webpack/bootstrap a3687f899e33753c763f","webpack:///./lib/avalanche.js","webpack:///./lib/icicle.js","webpack:///./lib/player.js"],"names":["document","addEventListener","canvas","getElementById","overlay","getElementsByClassName","ctx","getContext","globalId","player","icicles","tick","level","isPaused","gameOver","gameSession","window","e","keyCode","pauseScreen","key","srcY","newGame","startinglevel","startScreen","order","delay","spans","getElementsByTagName","forEach","idx","style","animationDelay","className","i","length","animationFillMode","settingsScreen","settingLevel","innerHTML","parseInt","handleGameOver","gameOverScreen","hitPlayer","kill","update","cancelAnimationFrame","clearRect","width","height","font","fillStyle","fillText","draw","create","handleFalling","animate","requestAnimationFrame","Icicles","img","Image","src","icicleBreak","Audio","volume","srcX","destX","destY","push","falling","icicle","drawImage","play","fallInterval","Math","floor","setFalling","random","hit","icicleHeight","icicleTip","playerLeft","playerRight","destWidth","playerHeight","heightOffset","widthOffset","Player","srcWidth","srcHeight","destHeight","speed"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap a3687f899e33753c763f","import Icicles from './icicle';\nimport Player from './player';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const canvas = document.getElementById('canvas');\n  const overlay = document.getElementsByClassName('overlay')[0];\n  const ctx = canvas.getContext('2d');\n  let globalId;\n  let player, icicles, tick, level;\n  let isPaused, gameOver, gameSession = false;\n\n  window.addEventListener('keydown', e => {\n    if (e.keyCode === 13 && gameSession && !gameOver) {\n      pauseScreen();\n    }\n\n    ctx.key = e.keyCode;\n  });\n\n  window.addEventListener('keyup', e => {\n    player.srcY = 0;\n    ctx.key = false;\n  });\n\n  const newGame = (startinglevel = 1) => {\n    player = new Player();\n    icicles = new Icicles();\n    tick = 0;\n    level = startinglevel;\n  };\n\n  const startScreen = () => {\n    isPaused = true;\n    let order = [0,2,1,3];\n    let delay = 1.5;\n\n    let spans = document.getElementsByTagName('SPAN');\n\n    order.forEach( idx => {\n      spans[idx].style.animationDelay = `${delay}s`;\n      spans[idx].className = 'header-drop';\n      delay += 0.5;\n    });\n\n    document.getElementsByTagName('H2')[0].addEventListener('click', () => {\n      isPaused = false;\n      gameSession = true;\n      document.getElementById('start-screen').className = \"hidden\";\n      for (var i = 0; i < spans.length; i++) {\n        spans[i].style.animationFillMode = 'none';\n      }\n    });\n\n    document.getElementsByTagName('H2')[1].addEventListener('click', () => {\n      overlay.className = \"overlay dark-tint\";\n      document.getElementById('how-to-play').className = \"overlay\";\n    });\n\n    document.getElementById('how-to-play-exit').addEventListener('click', () => {\n      overlay.className = \"\";\n      document.getElementById('how-to-play').className = 'hidden';\n    });\n  };\n\n  const pauseScreen = () => {\n    let settingsScreen = document.getElementById('settings-screen');\n    let settingLevel = document.getElementById('settings-level');\n    settingLevel.innerHTML = 1;\n\n    if (isPaused && !gameOver) {\n      isPaused = false;\n      overlay.className = \"\";\n      settingsScreen.className = 'hidden';\n    } else {\n      isPaused = true;\n      overlay.className = \"overlay dark-tint\";\n      settingsScreen.className = \"overlay\";\n\n      document.getElementsByTagName('H4')[0].addEventListener('click', () => {\n        isPaused = false;\n        overlay.className = \"\";\n        settingsScreen.className = \"hidden\";\n        newGame(parseInt(settingLevel.innerHTML));\n      });\n\n      document.getElementById('level-increase').addEventListener('click', () => {\n        if (parseInt(settingLevel.innerHTML) < 8) {\n          settingLevel.innerHTML = parseInt(settingLevel.innerHTML) + 1;\n        }\n      });\n\n      document.getElementById('level-decrease').addEventListener('click', () => {\n        if (parseInt(settingLevel.innerHTML) > 1) {\n          settingLevel.innerHTML = parseInt(settingLevel.innerHTML) - 1;\n        }\n      });\n\n      document.getElementById('settings-exit').addEventListener('click', () => {\n        isPaused = false;\n        overlay.className = \"\";\n        settingsScreen.className = \"hidden\";\n      });\n    }\n  };\n\n  const handleGameOver = () => {\n    const gameOverScreen = document.getElementById('game-over-screen');\n\n    if (icicles.hitPlayer(player)) {\n      player.kill(ctx);\n      isPaused = true;\n      gameOver = true;\n      overlay.className = \"overlay dark-tint\";\n      gameOverScreen.className = \"overlay\";\n\n      gameOverScreen.addEventListener('click', () => {\n        isPaused = false;\n        gameOver = false;\n        overlay.className = \"\";\n        gameOverScreen.className = \"hidden\";\n\n        newGame();\n      });\n    }\n  };\n\n  const update = () => {\n    if (isPaused) {\n      cancelAnimationFrame(globalId);\n    } else {\n      tick += 1;\n      if (tick % (50 * 10) === 0) {\n        level += 1;\n      }\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n      ctx.font = '30px arial';\n      ctx.fillStyle = 'white';\n      ctx.fillText(`Score: ${tick}`, 600, 120);\n      ctx.fillText(`Level: ${level}`, 600, 150);\n\n      player.draw(ctx);\n      if (ctx.key && ctx.key === 37 || ctx.key === 65) {\n        player.srcY = 240;\n        player.update(-4);\n      }\n      if (ctx.key && ctx.key === 39 || ctx.key === 68) {\n        player.srcY = 288;\n        player.update(4);\n      }\n\n      icicles.create();\n      icicles.draw(ctx);\n      icicles.update(level);\n      icicles.kill();\n      icicles.handleFalling(level, tick);\n\n      handleGameOver();\n    }\n  };\n\n  const animate = () => {\n    update();\n    globalId = requestAnimationFrame(animate);\n  };\n\n  newGame();\n  startScreen();\n  animate();\n});\n\n\n\n// WEBPACK FOOTER //\n// ./lib/avalanche.js","class Icicles {\n  constructor() {\n    this.img = new Image();\n    this.img.src = './assets/icicle.png';\n    this.icicleBreak = new Audio('./assets/icicle_break.wav');\n    this.icicleBreak.volume = 0.0;\n\n    this.srcX = 14;\n    this.srcY = 0;\n    this.destX = 0;\n    this.destY = 0;\n    this.width = 36;\n    this.height = 64;\n    this.icicles = [];\n  }\n\n  create() {\n    if (this.destX < (800 - 36)) {\n      this.icicles.push({\n        srcX: this.srcX,\n        srcY: this.srcY,\n        destX: this.destX,\n        destY: this.destY,\n        width: 40,\n        height: 64,\n        falling: false,\n      });\n    }\n    this.destX += 40;\n  }\n\n  draw(ctx) {\n    this.icicles.forEach( (icicle, idx) => {\n      ctx.drawImage(\n        this.img,\n        icicle.srcX, icicle.srcY, icicle.width, icicle.height,\n        icicle.destX, icicle.destY, icicle.width, icicle.height\n      );\n    });\n  }\n\n  update(level) {\n    this.icicles.forEach( (icicle, idx) => {\n      if (icicle.falling) {\n        icicle.destY += 5 * (0.2 * level + 1);\n      }\n    });\n  }\n\n  kill() {\n\n    this.icicles.forEach( (icicle, idx) => {\n      if (icicle.destY >= 550) {\n        this.icicleBreak.play();\n        this.srcY = 192;\n        icicle.falling = false;\n        icicle.destY = 0;\n      }\n    });\n  }\n\n  setFalling(idx) {\n    if (this.icicles.length === 20) {\n      this.icicles[idx].falling = true;\n    }\n  }\n\n  handleFalling(level, tick) {\n    let fallInterval = Math.floor(30 / (level * 2));\n\n    if (tick % fallInterval === 0) {\n      this.setFalling(Math.floor(Math.random() * 20));\n    }\n  }\n\n  hitPlayer(player) {\n    let hit = false;\n    for (let i = 0; i < this.icicles.length; i++) {\n      if (this.icicles[i].falling === true) {\n        let icicleHeight = this.icicles[i].destY + this.icicles[i].height;\n        let icicleTip = this.icicles[i].destX + (this.icicles[i].width / 2);\n        let playerLeft = player.destX;\n        let playerRight = player.destX + player.destWidth;\n        let playerHeight = player.destY;\n        let heightOffset = 56;\n        let widthOffset = 18;\n\n        if (\n          (icicleTip > playerLeft + widthOffset &&\n            icicleTip < playerRight - widthOffset) &&\n            icicleHeight >= (playerHeight + heightOffset)\n          ) { return true; }\n      }\n    }\n  }\n}\n\nexport default Icicles;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/icicle.js","class Player {\n  constructor() {\n    this.img = new Image();\n    this.img.src = './assets/penguin.png';\n\n    this.srcX = 48;\n    this.srcY = 0;\n    this.destX = 40;\n    this.destY = 600 - 96;\n    this.srcWidth = 48;\n    this.srcHeight = 48;\n    this.destWidth = 48 * 2;\n    this.destHeight = 48 * 2;\n  }\n\n  create() {\n  }\n\n  draw(ctx) {\n    ctx.drawImage(\n      this.img,\n      this.srcX, this.srcY, this.srcWidth, this.srcHeight,\n      this.destX, this.destY, this.destWidth, this.destHeight\n    );\n  }\n\n  update(speed) {\n    if (speed < 0) {\n      if (this.destX > 0) {\n        this.destX += speed;\n      }\n    } else {\n      if (this.destX < 800 - this.destWidth) {\n        this.destX += speed;\n      }\n    }\n  }\n\n  kill(ctx) {\n    this.srcY = 336;\n  }\n}\n\nexport default Player;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/player.js"],"sourceRoot":""}